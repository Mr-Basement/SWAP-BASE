<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<title>SWAP-BASE — Heaven's Basement × SWAP</title>
<meta name="description" content="Underground">
<meta name="theme-color" content="#0a0a0f">

<!-- OPTIONAL: Uncomment for custom font (removable for offline use) -->
<!-- <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet"> -->

<style>
/* =============================================================================
   CUSTOMIZATION MAP — Edit these CSS variables to change the entire vibe
   ============================================================================= */
:root {
  /* Colors */
  --bg-dark: #0a0a0f;
  --bg-medium: #14141c;
  --accent-warm: #d4a574;      /* Warm metallic gold */
  --accent-hot: #ff7326;        /* Orange highlight */
  --chrome-bright: #e8ecf0;     /* Bright chrome text */
  --chrome-dim: #9ba3aa;        /* Dimmed chrome */
  --glass-bg: rgba(20, 20, 28, 0.75);
  --glass-border: rgba(255, 255, 255, 0.08);
  
  /* Typography */
  --font-mono: 'Courier New', 'Share Tech Mono', monospace;
  --font-ui: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  
  /* Spacing & Sizing */
  --header-height: 72px;
  --player-height: 64px;
  --max-width: 1100px;
  --radius-lg: 16px;
  --radius-md: 12px;
  --radius-sm: 8px;
  
  /* Animation */
  --transition-fast: 0.2s ease;
  --transition-medium: 0.4s ease;
  
  /* Performance */
  --particle-count: 24;
  --particle-opacity: 0.12;
}

/* THEME B: Warm Underground Glow (uncomment to activate)
:root {
  --bg-dark: #0f0a08;
  --bg-medium: #1c1410;
  --accent-warm: #e8b960;
  --accent-hot: #ff8c42;
  --chrome-bright: #f0e8dc;
}
*/

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-ui);
  background: linear-gradient(180deg, var(--bg-dark) 0%, var(--bg-medium) 100%);
  color: var(--chrome-bright);
  min-height: 100vh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -webkit-tap-highlight-color: transparent;
}

/* =============================================================================
   LOADING SPINNER
   ============================================================================= */
.loader {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.96);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  backdrop-filter: blur(8px);
}
.loader.active { display: flex; }
.spinner {
  width: 52px;
  height: 52px;
  border: 3px solid rgba(212, 165, 116, 0.2);
  border-top-color: var(--accent-warm);
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
}
@keyframes spin {
  to { transform: rotate(360deg); }
}

/* =============================================================================
   HEADER - Fixed navigation bar
   ============================================================================= */
header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--header-height);
  padding: 0 20px;
  display: flex;
  align-items: center;
  gap: 16px;
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--glass-border);
  z-index: 1000;
}

.logo {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  font-family: var(--font-mono);
  font-size: 16px;
  letter-spacing: 2px;
  font-weight: bold;
  transition: var(--transition-fast);
}
.logo:hover {
  transform: scale(1.02);
}
.logo-badge {
  background: linear-gradient(135deg, var(--accent-warm), var(--accent-hot));
  padding: 8px 16px;
  border-radius: var(--radius-sm);
  color: #000;
  font-weight: 900;
}

nav {
  margin-left: auto;
  display: flex;
  gap: 4px;
  flex-wrap: wrap;
}
nav a {
  padding: 8px 14px;
  color: var(--chrome-dim);
  text-decoration: none;
  border-radius: var(--radius-sm);
  font-size: 13px;
  letter-spacing: 1px;
  font-weight: 600;
  transition: var(--transition-fast);
  cursor: pointer;
}
nav a:hover, nav a.active {
  background: rgba(255, 255, 255, 0.06);
  color: var(--accent-warm);
}

/* =============================================================================
   BACK TO TOP BUTTON
   ============================================================================= */
.back-btn {
  position: fixed;
  bottom: calc(var(--player-height) + 20px);
  right: 20px;
  width: 52px;
  height: 52px;
  background: linear-gradient(135deg, var(--accent-warm), var(--accent-hot));
  border: none;
  border-radius: 50%;
  color: #000;
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 8px 32px rgba(212, 165, 116, 0.4);
  z-index: 999;
  transition: var(--transition-medium);
  animation: pulse-glow 2.5s ease-in-out infinite;
}
.back-btn:hover {
  transform: scale(1.08) translateY(-2px);
}
.back-btn:active {
  transform: scale(0.96);
}
@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 8px 32px rgba(212, 165, 116, 0.4); }
  50% { box-shadow: 0 8px 48px rgba(212, 165, 116, 0.7), 0 0 60px rgba(255, 115, 38, 0.3); }
}

/* =============================================================================
   MAIN CONTENT WRAPPER
   ============================================================================= */
main {
  padding-top: var(--header-height);
  padding-bottom: calc(var(--player-height) + 20px);
  position: relative;
}

.section {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  position: relative;
  overflow: hidden;
}

/* =============================================================================
   FIBONACCI SPIRAL BACKGROUND (Canvas-based geometric animation)
   ============================================================================= */
#bgCanvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: var(--particle-opacity);
  pointer-events: none;
  z-index: 0;
}

/* =============================================================================
   HERO SECTION - CRT Frame with rotating glow
   ============================================================================= */
.hero-crt {
  max-width: var(--max-width);
  width: 100%;
  aspect-ratio: 16 / 9;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.02), rgba(0, 0, 0, 0.3));
  border-radius: var(--radius-lg);
  border: 2px solid var(--glass-border);
  box-shadow: 0 32px 96px rgba(0, 0, 0, 0.9);
  position: relative;
  overflow: hidden;
}

.crt-screen {
  position: absolute;
  inset: 14px;
  background: #000;
  border-radius: calc(var(--radius-lg) - 4px);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* Rotating misty glow behind title */
.rotating-glow {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 700px;
  height: 700px;
  margin: -350px 0 0 -350px;
  background: radial-gradient(circle, rgba(212, 165, 116, 0.28), rgba(255, 115, 38, 0.14) 40%, transparent 70%);
  animation: rotate-slow 22s linear infinite;
  filter: blur(60px);
  opacity: 0.6;
}
@keyframes rotate-slow {
  to { transform: rotate(360deg); }
}

.hero-content {
  position: relative;
  z-index: 10;
  text-align: center;
  max-width: 85%;
  padding: 24px;
}

.hero-title {
  font-family: var(--font-mono);
  font-size: clamp(28px, 7vw, 58px);
  letter-spacing: 4px;
  margin-bottom: 18px;
  color: var(--chrome-bright);
  text-shadow: 0 0 40px rgba(212, 165, 116, 0.7),
               0 0 80px rgba(255, 115, 38, 0.4);
  animation: title-glow 3.5s ease-in-out infinite;
}
@keyframes title-glow {
  0%, 100% {
    text-shadow: 0 0 40px rgba(212, 165, 116, 0.7),
                 0 0 80px rgba(255, 115, 38, 0.4);
  }
  50% {
    text-shadow: 0 0 60px rgba(212, 165, 116, 1),
                 0 0 100px rgba(255, 115, 38, 0.6),
                 0 0 140px rgba(255, 115, 38, 0.3);
  }
}

.hero-subtitle {
  font-size: clamp(13px, 2.2vw, 15px);
  color: var(--chrome-dim);
  line-height: 1.7;
  margin-bottom: 28px;
}
.hero-subtitle strong {
  color: var(--accent-warm);
  font-weight: 800;
}

.press-btn {
  padding: 13px 32px;
  background: linear-gradient(135deg, var(--accent-warm), var(--accent-hot));
  border: none;
  border-radius: var(--radius-md);
  color: #000;
  font-family: var(--font-mono);
  font-size: 15px;
  font-weight: 900;
  letter-spacing: 2px;
  cursor: pointer;
  transition: var(--transition-medium);
  box-shadow: 0 8px 24px rgba(212, 165, 116, 0.35);
}
.press-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 12px 36px rgba(212, 165, 116, 0.55);
}
.press-btn:active {
  transform: translateY(-1px);
}

/* Mini countdown preview on hero */
.mini-countdown {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 24px;
  flex-wrap: wrap;
}
.mini-countdown .cell {
  background: rgba(0, 0, 0, 0.7);
  padding: 8px 12px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(255, 255, 255, 0.1);
  min-width: 54px;
  text-align: center;
}
.mini-countdown .num {
  font-size: 18px;
  font-weight: 900;
  color: var(--accent-warm);
}
.mini-countdown .label {
  font-size: 9px;
  color: var(--chrome-dim);
  text-transform: uppercase;
  margin-top: 2px;
}

/* CRT scanlines */
.scanlines {
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.12) 2px,
    rgba(0, 0, 0, 0.12) 4px
  );
  pointer-events: none;
  opacity: 0.55;
  animation: scanline-flicker 8s linear infinite;
}
@keyframes scanline-flicker {
  0%, 100% { opacity: 0.55; }
  50% { opacity: 0.45; }
}

/* =============================================================================
   FULL COUNTDOWN SECTION
   ============================================================================= */
.countdown-wrapper {
  max-width: 900px;
  width: 100%;
  text-align: center;
  position: relative;
  z-index: 10;
}

.countdown-title {
  font-family: var(--font-mono);
  font-size: clamp(26px, 5.5vw, 44px);
  letter-spacing: 3px;
  margin-bottom: 12px;
  color: var(--chrome-bright);
}

.countdown-subtitle {
  font-size: 15px;
  color: var(--chrome-dim);
  margin-bottom: 36px;
}

.countdown-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 14px;
  max-width: 600px;
  margin: 0 auto;
}

.countdown-cell {
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  padding: 20px 16px;
  border-radius: var(--radius-md);
  border: 2px solid var(--glass-border);
  transition: var(--transition-medium);
}
.countdown-cell:hover {
  border-color: var(--accent-warm);
  transform: translateY(-2px);
}

.countdown-number {
  font-size: clamp(34px, 7vw, 52px);
  font-weight: 900;
  color: var(--accent-hot);
  text-shadow: 0 0 28px rgba(255, 115, 38, 0.6);
}

.countdown-label {
  font-size: 11px;
  color: var(--chrome-dim);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-top: 6px;
}

/* =============================================================================
   LINKS HUB SECTION
   ============================================================================= */
.links-wrapper {
  max-width: var(--max-width);
  width: 100%;
  position: relative;
  z-index: 10;
}

.section-title {
  font-family: var(--font-mono);
  font-size: clamp(24px, 5vw, 36px);
  letter-spacing: 2px;
  text-align: center;
  margin-bottom: 32px;
  color: var(--chrome-bright);
}

.links-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 18px;
}

.link-card {
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  border: 2px solid var(--glass-border);
  border-radius: var(--radius-md);
  padding: 22px;
  text-decoration: none;
  color: inherit;
  position: relative;
  overflow: hidden;
  transition: var(--transition-medium);
  cursor: pointer;
}
.link-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(
    circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
    rgba(212, 165, 116, 0.16),
    transparent 60%
  );
  opacity: 0;
  transition: opacity 0.3s;
}
.link-card:hover::before {
  opacity: 1;
}
.link-card:hover {
  border-color: var(--accent-warm);
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(212, 165, 116, 0.25);
}

.link-card h3 {
  font-size: 19px;
  margin-bottom: 10px;
  position: relative;
  z-index: 1;
  color: var(--chrome-bright);
}
.link-card p {
  font-size: 14px;
  color: var(--accent-warm);
  position: relative;
  z-index: 1;
}

/* =============================================================================
   GAMES SECTION
   ============================================================================= */
.games-wrapper {
  max-width: 800px;
  width: 100%;
  text-align: center;
  position: relative;
  z-index: 10;
}

.game-card {
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  border: 2px solid var(--glass-border);
  border-radius: var(--radius-md);
  padding: 28px;
  margin-bottom: 18px;
  text-decoration: none;
  color: inherit;
  display: block;
  transition: var(--transition-medium);
  cursor: pointer;
}
.game-card:hover {
  border-color: var(--accent-warm);
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(212, 165, 116, 0.25);
}
.game-card h3 {
  font-size: 20px;
  margin-bottom: 14px;
  color: var(--chrome-bright);
}
.game-card p {
  font-size: 14px;
  color: var(--chrome-dim);
  line-height: 1.6;
}

/* =============================================================================
   PERSISTENT MUSIC PLAYER - Compact glassy bar at bottom
   ============================================================================= */
/* =============================================================================
   PERSISTENT MUSIC PLAYER - iOS 18 Glassmorphic Style
   ============================================================================= */
.player {
  position: fixed;
  bottom: 16px;
  left: 16px;
  right: 16px;
  height: var(--player-height);
  
  /* iOS-style glass effect */
  background: rgba(20, 20, 28, 0.72);
  backdrop-filter: blur(40px) saturate(180%);
  -webkit-backdrop-filter: blur(40px) saturate(180%);
  
  /* Subtle border with gradient */
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 20px;
  
  /* Inner glow + outer shadow */
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2),
    0 20px 60px rgba(0, 0, 0, 0.6),
    0 0 80px rgba(212, 165, 116, 0.15);
  
  padding: 0 16px;
  display: flex;
  align-items: center;
  gap: 14px;
  z-index: 1000;
  
  /* Smooth transitions */
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Hover state - subtle lift */
.player:hover {
  transform: translateY(-2px);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.15),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2),
    0 24px 72px rgba(0, 0, 0, 0.7),
    0 0 100px rgba(212, 165, 116, 0.25);
  border-color: rgba(255, 255, 255, 0.22);
}

/* Add a subtle inner shine effect */
.player::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.08) 0%,
    transparent 100%
  );
  border-radius: 20px 20px 0 0;
  pointer-events: none;
}

.player-controls {
  display: flex;
  gap: 6px;
  align-items: center;
  position: relative;
  z-index: 1;
}

.player-btn {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 10px;
  color: var(--chrome-bright);
  font-size: 20px;
  width: 40px;
  height: 40px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    0 2px 8px rgba(0, 0, 0, 0.2);
}

.player-btn:hover {
  background: rgba(255, 255, 255, 0.14);
  border-color: rgba(255, 255, 255, 0.2);
  transform: scale(1.08);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.15),
    0 4px 12px rgba(0, 0, 0, 0.3),
    0 0 20px rgba(212, 165, 116, 0.3);
}

.player-btn:active {
  transform: scale(0.95);
}

.player-btn.play {
  background: linear-gradient(135deg, var(--accent-warm), var(--accent-hot));
  border-color: rgba(255, 255, 255, 0.3);
  color: #000;
  font-size: 24px;
  width: 46px;
  height: 46px;
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.3),
    0 4px 16px rgba(212, 165, 116, 0.4),
    0 0 30px rgba(212, 165, 116, 0.2);
}

.player-btn.play:hover {
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.4),
    0 6px 20px rgba(212, 165, 116, 0.6),
    0 0 40px rgba(212, 165, 116, 0.4);
}

.track-info {
  flex: 1;
  min-width: 90px;
  overflow: hidden;
  position: relative;
  z-index: 1;
}

.track-title {
  font-size: 13px;
  font-weight: 700;
  margin-bottom: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--chrome-bright);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.track-artist {
  font-size: 11px;
  color: var(--chrome-dim);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* Waveform container with glass effect */
.waveform-canvas {
  width: 140px;
  height: 36px;
  border-radius: 10px;
  background: rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.3),
    0 1px 0 rgba(255, 255, 255, 0.05);
  position: relative;
  z-index: 1;
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .player {
    bottom: 12px;
    left: 12px;
    right: 12px;
    padding: 0 12px;
    border-radius: 18px;
  }
  
  .player-btn {
    width: 38px;
    height: 38px;
    font-size: 18px;
  }
  
  .player-btn.play {
    width: 44px;
    height: 44px;
    font-size: 22px;
  }
  
  .waveform-canvas {
    width: 100%;
    max-width: 120px;
  }
}

@media (max-width: 480px) {
  .player {
    gap: 10px;
  }
  
  .player-controls {
    gap: 4px;
  }
  
  .track-title {
    font-size: 12px;
  }
  
  .track-artist {
    font-size: 10px;
  }
}
/* =============================================================================
   LIGHTNING FLASH TRANSITION
   ============================================================================= */
.flash {
  position: fixed;
  inset: 0;
  background: radial-gradient(
    circle at 50% 30%,
    rgba(255, 255, 255, 0.96),
    rgba(255, 255, 255, 0) 35%
  );
  mix-blend-mode: screen;
  opacity: 0;
  pointer-events: none;
  z-index: 9998;
  transition: opacity 0.1s ease;
}

/* =============================================================================
   RESPONSIVE BREAKPOINTS
   ============================================================================= */
@media (max-width: 768px) {
  :root {
    --header-height: 64px;
    --particle-count: 16;
  }
  
  nav a {
    font-size: 12px;
    padding: 6px 10px;
  }
  
  .countdown-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .links-grid {
    grid-template-columns: 1fr;
  }
  
  .waveform-canvas {
    width: 100%;
  }
}

@media (max-width: 480px) {
  .hero-title {
    font-size: 24px;
  }
  
  .countdown-cell {
    padding: 16px 12px;
  }
  
  .back-btn {
    width: 48px;
    height: 48px;
    font-size: 20px;
  }
}

/* =============================================================================
   REDUCED MOTION SUPPORT
   ============================================================================= */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
</style>
</head>
<body>

<!-- Loading Spinner -->
<div class="loader" id="loader">
  <div class="spinner"></div>
</div>

<!-- Lightning Flash Effect -->
<div class="flash" id="flash"></div>

<!-- Header -->
<header>
  <div class="logo" onclick="scrollToSection('hero')">
    <div class="logo-badge">SWAP</div>
    <div>BASE</div>
  </div>
  <nav>
    <a href="#hero" class="nav-link active">HOME</a>
    <a href="#countdown" class="nav-link">COUNTDOWN</a>
    <a href="#links" class="nav-link">LINKS</a>
    <a href="#games" class="nav-link">GAMES</a>
  </nav>
</header>

<!-- Back to Top Button -->
<button class="back-btn" onclick="scrollToTop()" aria-label="Back to top">↑</button>

<!-- Fibonacci Spiral Background Canvas -->
<canvas id="bgCanvas" aria-hidden="true"></canvas>

<main>
  <!-- HERO SECTION -->
  <section id="hero" class="section">
    <div class="hero-crt">
      <div class="crt-screen">
        <div class="rotating-glow"></div>
        <div class="hero-content">
          <h1 class="hero-title">SWAP-BASE</h1>
          <p class="hero-subtitle">
            Heaven's Basement × SWAP — underground hub for music, tech, fashion & community. 
            <strong>ENTER THE UNDERGROUND</strong>
          </p>
          <button class="press-btn" onclick="scrollToSection('countdown')">PRESS START</button>
          <div class="mini-countdown" id="miniCountdown"></div>
        </div>
      </div>
      <div class="scanlines"></div>
    </div>
  </section>

  <!-- COUNTDOWN SECTION -->
  <section id="countdown" class="section">
    <div class="countdown-wrapper">
      <h2 class="countdown-title">SWAPTOBER:5</h2>
      <p class="countdown-subtitle">LIVE COUNTDOWN</p>
      <div class="countdown-grid" id="fullCountdown"></div>
    </div>
  </section>

  <!-- LINKS HUB SECTION -->
  <section id="links" class="section">
    <div class="links-wrapper">
      <h2 class="section-title">CONNECT</h2>
      <div class="links-grid">
        <a href="https://www.instagram.com/chrisswap" target="_blank" rel="noopener" class="link-card">
          <h3>📸 Instagram</h3>
          <p>@chrisswap</p>
        </a>
        <a href="https://music.apple.com/us/playlist/swaptober5/pl.u-6mo44ayIlBZ3NG" target="_blank" rel="noopener" class="link-card">
          <h3>🎵 Music</h3>
          <p>SWAPTOBER5 Playlist</p>
        </a>
        <a href="https://www.sbrmag.com/events/swaptober" target="_blank" rel="noopener" class="link-card">
          <h3>🎫 Tickets</h3>
          <p>Get Tickets</p>
        </a>
        <a href="https://www.mrmidwest.com/" target="_blank" rel="noopener" class="link-card">
          <h3>👕 Merch+</h3>
          <p>Shop Now</p>
        </a>
        <a href="https://youtube.com/@chrisswap57" target="_blank" rel="noopener" class="link-card">
          <h3>📺 YouTube</h3>
          <p>Channel</p>
        </a>
        <a href="https://msha.ke/fieldschristopher" target="_blank" rel="noopener" class="link-card">
          <h3>📧 Contact</h3>
          <p>Digital Card</p>
        </a>
      </div>
    </div>
  </section>

  <!-- GAMES SECTION -->
  <section id="games" class="section">
    <div class="games-wrapper">
      <h2 class="section-title">GAMES / INTERACTIVE</h2>
      <a href="https://mr-basement.github.io/swaptober-contact-of-the-fifth/" target="_blank" rel="noopener" class="game-card">
        <h3>🎮 SWAPTOBER: Contact of the Fifth</h3>
        <p>Interactive web experience — Click to play</p>
      </a>
      <div class="game-card" style="cursor: default;">
        <h3>More Coming Soon</h3>
        <p>Additional interactive experiences in development by ChrisSWAP</p>
      </div>
    </div>
  </section>
</main>

<!-- PERSISTENT MUSIC PLAYER -->
<div class="player">
  <div class="player-controls">
    <button class="player-btn" onclick="prevTrack()" aria-label="Previous track">⏮</button>
    <button class="player-btn play" id="playBtn" onclick="togglePlay()" aria-label="Play/Pause">▶</button>
    <button class="player-btn" onclick="nextTrack()" aria-label="Next track">⏭</button>
  </div>
  <div class="track-info">
    <div class="track-title" id="trackTitle">Chris2 — SWAPTOBER Mix</div>
    <div class="track-artist" id="trackArtist">ChrisSWAP</div>
  </div>
  <canvas class="waveform-canvas" id="waveCanvas" width="280" height="72"></canvas>
</div>

<script>
/* =============================================================================
   SWAP-BASE JAVASCRIPT - Complete Rewrite
   Optimized for performance, iOS compatibility, and glassmorphic UI
   ============================================================================= */

'use strict';

/* =============================================================================
   CONFIGURATION - Edit these values to customize
   ============================================================================= */

const CONFIG = {
  // Countdown configuration
  countdown: {
    targetDate: new Date('2025-10-24T20:00:00-05:00'), // America/Chicago
    updateInterval: 1000 // Update every second
  },
  
  // Audio tracks configuration
  audio: {
    tracks: [
      { 
        title: 'Chris2 — SWAP Mix', 
        artist: 'ChrisSWAP', 
        file: 'assets/music/chris2.mp3' 
      },
      { 
        title: 'Chris7 — SWAP Mix', 
        artist: 'ChrisSWAP', 
        file: 'assets/music/chris 7.mp3' 
      }
    ],
    crossOrigin: 'anonymous',
    preload: 'metadata'
  },
  
  // Visual effects configuration
  effects: {
    particleCount: 24,        // Fibonacci spiral particles
    spiralSegments: 80,       // Spiral curve detail
    particleOpacity: 0.15,    // Particle visibility
    spiralSpeed: 0.004,       // Rotation speed
    flashDuration: 100,       // Lightning flash duration (ms)
    reducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)').matches,
    isLowPower: /Mobi|Android/i.test(navigator.userAgent) && window.innerWidth < 900
  },
  
  // Waveform visualizer configuration
  waveform: {
    barCount: 20,
    idleHeight: 0.2,          // 20% of canvas height when idle
    minBarHeight: 0.12,       // Minimum bar height when playing
    glowIntensity: 6,         // Base glow amount
    pulseSpeed: 0.001         // Idle pulse animation speed
  }
};

/* =============================================================================
   STATE MANAGEMENT - Application state
   ============================================================================= */

const STATE = {
  audio: {
    element: null,
    context: null,
    analyser: null,
    dataArray: null,
    currentTrackIndex: 0,
    isPlaying: false,
    isInitialized: false
  },
  
  canvas: {
    background: null,
    backgroundCtx: null,
    waveform: null,
    waveformCtx: null,
    spiralAngle: 0,
    animationFrameId: null
  },
  
  ui: {
    loader: null,
    flash: null,
    playBtn: null,
    trackTitle: null,
    trackArtist: null,
    player: null
  }
};

/* =============================================================================
   DOM UTILITIES
   ============================================================================= */

const DOM = {
  get: (selector) => document.querySelector(selector),
  getAll: (selector) => document.querySelectorAll(selector),
  
  ready: (callback) => {
    if (document.readyState !== 'loading') {
      callback();
    } else {
      document.addEventListener('DOMContentLoaded', callback);
    }
  }
};

/* =============================================================================
   UI EFFECTS
   ============================================================================= */

const Effects = {
  // Show lightning flash transition
  flash: () => {
    if (!STATE.ui.flash) return;
    STATE.ui.flash.style.opacity = '1';
    setTimeout(() => {
      STATE.ui.flash.style.opacity = '0';
    }, CONFIG.effects.flashDuration);
  },
  
  // Show loading spinner
  showLoader: () => {
    if (STATE.ui.loader) {
      STATE.ui.loader.classList.add('active');
    }
  },
  
  // Hide loading spinner
  hideLoader: () => {
    if (STATE.ui.loader) {
      STATE.ui.loader.classList.remove('active');
    }
  },
  
  // Smooth scroll to section
  scrollTo: (elementId) => {
    Effects.flash();
    setTimeout(() => {
      const element = DOM.get(`#${elementId}`);
      if (element) {
        element.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    }, 100);
  },
  
  // Scroll to top
  scrollToTop: () => {
    Effects.flash();
    setTimeout(() => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }, 100);
  }
};

// Make scroll functions globally available
window.scrollToSection = Effects.scrollTo;
window.scrollToTop = Effects.scrollToTop;

/* =============================================================================
   COUNTDOWN TIMER
   ============================================================================= */

const Countdown = {
  // Format number with leading zero
  pad: (num) => String(Math.floor(num)).padStart(2, '0'),
  
  // Calculate time difference
  calculate: () => {
    const now = new Date();
    const diff = Math.max(0, (CONFIG.countdown.targetDate - now) / 1000);
    
    return {
      days: Math.floor(diff / 86400),
      hours: Math.floor((diff % 86400) / 3600),
      minutes: Math.floor((diff % 3600) / 60),
      seconds: Math.floor(diff % 60)
    };
  },
  
  // Render countdown HTML
  renderCell: (value, label) => `
    <div class="countdown-cell">
      <div class="countdown-number">${Countdown.pad(value)}</div>
      <div class="countdown-label">${label}</div>
    </div>
  `,
  
  renderMiniCell: (value, label) => `
    <div class="cell">
      <div class="num">${Countdown.pad(value)}</div>
      <div class="label">${label}</div>
    </div>
  `,
  
  // Update countdown displays
  update: () => {
    const time = Countdown.calculate();
    
    // Update mini countdown on hero
    const miniCountdown = DOM.get('#miniCountdown');
    if (miniCountdown) {
      miniCountdown.innerHTML = 
        Countdown.renderMiniCell(time.days, 'Days') +
        Countdown.renderMiniCell(time.hours, 'Hrs') +
        Countdown.renderMiniCell(time.minutes, 'Min') +
        Countdown.renderMiniCell(time.seconds, 'Sec');
    }
    
    // Update full countdown
    const fullCountdown = DOM.get('#fullCountdown');
    if (fullCountdown) {
      fullCountdown.innerHTML = 
        Countdown.renderCell(time.days, 'Days') +
        Countdown.renderCell(time.hours, 'Hours') +
        Countdown.renderCell(time.minutes, 'Minutes') +
        Countdown.renderCell(time.seconds, 'Seconds');
    }
  },
  
  // Initialize countdown
  init: () => {
    Countdown.update();
    setInterval(Countdown.update, CONFIG.countdown.updateInterval);
    console.log('✅ Countdown initialized');
  }
};

/* =============================================================================
   AUDIO PLAYER
   ============================================================================= */

const AudioPlayer = {
  // Initialize Web Audio API (iOS-compatible)
  init: () => {
    if (STATE.audio.isInitialized) return;
    
    try {
      // Create audio element
      STATE.audio.element = new Audio();
      STATE.audio.element.crossOrigin = CONFIG.audio.crossOrigin;
      STATE.audio.element.preload = CONFIG.audio.preload;
      
      // Create Web Audio Context
      const AudioContext = window.AudioContext || window.webkitAudioContext;
      STATE.audio.context = new AudioContext();
      
      // Create analyser node
      const source = STATE.audio.context.createMediaElementSource(STATE.audio.element);
      STATE.audio.analyser = STATE.audio.context.createAnalyser();
      STATE.audio.analyser.fftSize = 64;
      
      // Connect nodes
      source.connect(STATE.audio.analyser);
      STATE.audio.analyser.connect(STATE.audio.context.destination);
      
      // Create data array for frequency data
      const bufferLength = STATE.audio.analyser.frequencyBinCount;
      STATE.audio.dataArray = new Uint8Array(bufferLength);
      
      // Load first track
      AudioPlayer.loadTrack(0);
      
      // Handle track end
      STATE.audio.element.addEventListener('ended', AudioPlayer.next);
      
      STATE.audio.isInitialized = true;
      console.log('✅ Audio system initialized');
      console.log(`🎵 Loaded ${CONFIG.audio.tracks.length} tracks`);
    } catch (err) {
      console.error('❌ Audio initialization failed:', err);
      STATE.audio.isInitialized = false;
    }
  },
  
  // Load a specific track
  loadTrack: (index) => {
    if (!STATE.audio.element) return;
    
    const track = CONFIG.audio.tracks[index];
    if (!track) {
      console.warn(`⚠️ Track ${index} not found`);
      return;
    }
    
    STATE.audio.element.src = track.file;
    STATE.audio.currentTrackIndex = index;
    
    // Update UI
    if (STATE.ui.trackTitle) {
      STATE.ui.trackTitle.textContent = track.title;
    }
    if (STATE.ui.trackArtist) {
      STATE.ui.trackArtist.textContent = track.artist;
    }
    
    console.log(`🎵 Loaded: ${track.title}`);
  },
  
  // Toggle play/pause
  togglePlay: () => {
    // Initialize audio on first interaction
    if (!STATE.audio.isInitialized) {
      AudioPlayer.init();
    }
    
    if (!STATE.audio.element || !STATE.ui.playBtn) return;
    
    if (!STATE.audio.isPlaying) {
      // Resume AudioContext if suspended (iOS requirement)
      if (STATE.audio.context && STATE.audio.context.state === 'suspended') {
        STATE.audio.context.resume();
      }
      
      STATE.audio.element.play()
        .then(() => {
          STATE.audio.isPlaying = true;
          STATE.ui.playBtn.textContent = '⏸';
          if (STATE.ui.player) {
            STATE.ui.player.classList.add('playing');
          }
          console.log('▶️ Playing');
        })
        .catch(err => {
          console.error('❌ Playback failed:', err);
          alert('Audio playback failed. Please check that audio files exist in assets/music/');
        });
    } else {
      STATE.audio.element.pause();
      STATE.audio.isPlaying = false;
      STATE.ui.playBtn.textContent = '▶';
      if (STATE.ui.player) {
        STATE.ui.player.classList.remove('playing');
      }
      console.log('⏸ Paused');
    }
  },
  
  // Previous track
  prev: () => {
    const trackCount = CONFIG.audio.tracks.length;
    STATE.audio.currentTrackIndex = (STATE.audio.currentTrackIndex - 1 + trackCount) % trackCount;
    AudioPlayer.loadTrack(STATE.audio.currentTrackIndex);
    
    if (STATE.audio.isPlaying && STATE.audio.element) {
      STATE.audio.element.play();
    }
  },
  
  // Next track
  next: () => {
    const trackCount = CONFIG.audio.tracks.length;
    STATE.audio.currentTrackIndex = (STATE.audio.currentTrackIndex + 1) % trackCount;
    AudioPlayer.loadTrack(STATE.audio.currentTrackIndex);
    
    if (STATE.audio.isPlaying && STATE.audio.element) {
      STATE.audio.element.play();
    }
  }
};

// Make audio functions globally available
window.togglePlay = AudioPlayer.togglePlay;
window.prevTrack = AudioPlayer.prev;
window.nextTrack = AudioPlayer.next;

/* =============================================================================
   WAVEFORM VISUALIZER
   ============================================================================= */

const Waveform = {
  // Initialize waveform canvas
  init: () => {
    STATE.canvas.waveform = DOM.get('#waveCanvas');
    if (!STATE.canvas.waveform) return;
    
    STATE.canvas.waveformCtx = STATE.canvas.waveform.getContext('2d');
    Waveform.animate();
    console.log('✅ Waveform visualizer initialized');
  },
  
  // Draw waveform animation
  animate: () => {
    requestAnimationFrame(Waveform.animate);
    
    const ctx = STATE.canvas.waveformCtx;
    const canvas = STATE.canvas.waveform;
    
    if (!ctx || !canvas) return;
    
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    // Check if audio is playing
    if (!STATE.audio.analyser || !STATE.audio.isPlaying) {
      Waveform.drawIdle(ctx, canvas);
    } else {
      Waveform.drawActive(ctx, canvas);
    }
  },
  
  // Draw idle state with breathing animation
  drawIdle: (ctx, canvas) => {
    const barCount = CONFIG.waveform.barCount;
    const barWidth = canvas.width / barCount;
    const baseHeight = canvas.height * CONFIG.waveform.idleHeight;
    const time = Date.now() * CONFIG.waveform.pulseSpeed;
    
    for (let i = 0; i < barCount; i++) {
      // Subtle wave motion
      const pulseOffset = Math.sin(time + i * 0.3) * 0.15;
      const height = baseHeight * (1 + pulseOffset);
      
      // Create gradient
      const gradient = ctx.createLinearGradient(
        0, 
        canvas.height - height, 
        0, 
        canvas.height
      );
      gradient.addColorStop(0, 'rgba(212, 165, 116, 0.25)');
      gradient.addColorStop(0.5, 'rgba(255, 115, 38, 0.35)');
      gradient.addColorStop(1, 'rgba(255, 140, 66, 0.45)');
      
      // Add subtle glow
      ctx.shadowBlur = 4;
      ctx.shadowColor = 'rgba(212, 165, 116, 0.3)';
      
      ctx.fillStyle = gradient;
      ctx.fillRect(
        i * barWidth + 1,
        canvas.height - height,
        barWidth - 2,
        height
      );
    }
    
    ctx.shadowBlur = 0;
  },
  
  // Draw active state with audio analysis
  drawActive: (ctx, canvas) => {
    STATE.audio.analyser.getByteFrequencyData(STATE.audio.dataArray);
    
    const barCount = STATE.audio.dataArray.length;
    const barWidth = canvas.width / barCount;
    const minHeight = canvas.height * CONFIG.waveform.minBarHeight;
    
    for (let i = 0; i < barCount; i++) {
      const value = STATE.audio.dataArray[i] / 255;
      const barHeight = Math.max(value * canvas.height, minHeight);
      
      // Create vibrant gradient
      const gradient = ctx.createLinearGradient(
        0, 
        canvas.height - barHeight, 
        0, 
        canvas.height
      );
      gradient.addColorStop(0, '#d4a574');    // Gold
      gradient.addColorStop(0.4, '#ff7326');  // Orange
      gradient.addColorStop(1, '#ff8c42');    // Bright orange
      
      // Dynamic glow based on volume
      const glowIntensity = CONFIG.waveform.glowIntensity + (value * 6);
      ctx.shadowBlur = glowIntensity;
      ctx.shadowColor = `rgba(212, 165, 116, ${0.4 + value * 0.4})`;
      
      ctx.fillStyle = gradient;
      ctx.fillRect(
        i * barWidth + 1,
        canvas.height - barHeight,
        barWidth - 2,
        barHeight
      );
    }
    
    ctx.shadowBlur = 0;
  }
};

/* =============================================================================
   FIBONACCI SPIRAL BACKGROUND
   ============================================================================= */

const Background = {
  // Initialize background canvas
  init: () => {
    STATE.canvas.background = DOM.get('#bgCanvas');
    if (!STATE.canvas.background) return;
    
    STATE.canvas.backgroundCtx = STATE.canvas.background.getContext('2d');
    Background.resize();
    
    window.addEventListener('resize', Background.resize);
    
    // Only animate if motion is allowed
    if (!CONFIG.effects.reducedMotion && !CONFIG.effects.isLowPower) {
      Background.animate();
      console.log('✅ Fibonacci spiral background initialized');
    } else {
      console.log('ℹ️ Background animation disabled (reduced motion or low power)');
    }
  },
  
  // Resize canvas to window size
  resize: () => {
    if (!STATE.canvas.background) return;
    STATE.canvas.background.width = window.innerWidth;
    STATE.canvas.background.height = window.innerHeight;
  },
  
  // Animate Fibonacci spiral
  animate: () => {
    if (CONFIG.effects.reducedMotion) return;
    
    const ctx = STATE.canvas.backgroundCtx;
    const canvas = STATE.canvas.background;
    
    if (!ctx || !canvas) return;
    
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;
    
    // Draw Fibonacci spiral
    const opacity = CONFIG.effects.isLowPower ? 0.08 : 0.12;
    ctx.strokeStyle = `rgba(212, 165, 116, ${opacity})`;
    ctx.lineWidth = 2;
    ctx.shadowBlur = 15;
    ctx.shadowColor = 'rgba(212, 165, 116, 0.3)';
    
    ctx.beginPath();
    
    let angle = STATE.canvas.spiralAngle;
    let radius = 1;
    
    for (let i = 0; i < CONFIG.effects.spiralSegments; i++) {
      const x = centerX + Math.cos(angle) * radius;
      const y = centerY + Math.sin(angle) * radius;
      
      if (i === 0) {
        ctx.moveTo(x, y);
      } else {
        ctx.lineTo(x, y);
      }
      
      angle += 0.15;
      radius += 1.8;
    }
    
    ctx.stroke();
    
    // Draw floating particles
    for (let i = 0; i < CONFIG.effects.particleCount; i++) {
      const particleAngle = (STATE.canvas.spiralAngle + i * 0.3) % (Math.PI * 2);
      const particleRadius = 80 + (i * 15);
      const px = centerX + Math.cos(particleAngle) * particleRadius;
      const py = centerY + Math.sin(particleAngle) * particleRadius;
      
      const gradient = ctx.createRadialGradient(px, py, 0, px, py, 8);
      gradient.addColorStop(0, `rgba(212, 165, 116, ${CONFIG.effects.particleOpacity})`);
      gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
      
      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.arc(px, py, 8, 0, Math.PI * 2);
      ctx.fill();
    }
    
    // Update spiral angle
    STATE.canvas.spiralAngle += CONFIG.effects.spiralSpeed;
    
    STATE.canvas.animationFrameId = requestAnimationFrame(Background.animate);
  }
};

/* =============================================================================
   NAVIGATION
   ============================================================================= */

const Navigation = {
  // Initialize navigation event listeners
  init: () => {
    // Nav link click handlers
    DOM.getAll('.nav-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        
        // Update active state
        DOM.getAll('.nav-link').forEach(l => l.classList.remove('active'));
        link.classList.add('active');
        
        // Scroll to section
        const sectionId = link.getAttribute('href').substring(1);
        Effects.scrollTo(sectionId);
      });
    });
    
    // Link card hover effect (mouse position tracking)
    DOM.getAll('.link-card').forEach(card => {
      card.addEventListener('mousemove', (e) => {
        const rect = card.getBoundingClientRect();
        const x = ((e.clientX - rect.left) / rect.width) * 100;
        const y = ((e.clientY - rect.top) / rect.height) * 100;
        card.style.setProperty('--mouse-x', `${x}%`);
        card.style.setProperty('--mouse-y', `${y}%`);
      });
    });
    
    console.log('✅ Navigation initialized');
  }
};

/* =============================================================================
   KEYBOARD CONTROLS
   ============================================================================= */

const Keyboard = {
  // Initialize keyboard shortcuts
  init: () => {
    document.addEventListener('keydown', (e) => {
      // Space bar - toggle play/pause
      if (e.code === 'Space' && e.target === document.body) {
        e.preventDefault();
        AudioPlayer.togglePlay();
      }
      
      // Arrow keys - track navigation
      if (e.code === 'ArrowLeft' && e.target === document.body) {
        e.preventDefault();
        AudioPlayer.prev();
      }
      
      if (e.code === 'ArrowRight' && e.target === document.body) {
        e.preventDefault();
        AudioPlayer.next();
      }
    });
    
    console.log('✅ Keyboard controls initialized (Space: play/pause, ← →: tracks)');
  }
};

/* =============================================================================
   CONFIG LOADER (Optional external JSON)
   ============================================================================= */

const ConfigLoader = {
  // Load external config.json if available
  load: async () => {
    try {
      const response = await fetch('assets/config.json');
      if (response.ok) {
        const config = await response.json();
        console.log('✅ External config loaded:', config);
        // Apply config overrides here if needed
        // Example: Object.assign(CONFIG.audio.tracks, config.tracks);
      }
    } catch (err) {
      console.log('ℹ️ No config.json found, using defaults');
    }
  }
};

/* =============================================================================
   APPLICATION INITIALIZATION
   ============================================================================= */

const App = {
  // Cache DOM elements
  cacheElements: () => {
    STATE.ui.loader = DOM.get('#loader');
    STATE.ui.flash = DOM.get('#flash');
    STATE.ui.playBtn = DOM.get('#playBtn');
    STATE.ui.trackTitle = DOM.get('#trackTitle');
    STATE.ui.trackArtist = DOM.get('#trackArtist');
    STATE.ui.player = DOM.get('.player');
  },
  
  // Initialize audio on first user gesture (iOS requirement)
  setupAudioGesture: () => {
    ['click', 'touchstart'].forEach(eventType => {
      document.addEventListener(eventType, () => {
        if (!STATE.audio.isInitialized) {
          AudioPlayer.init();
        }
      }, { once: true, passive: true });
    });
  },
  
  // Initialize all modules
  init: () => {
    console.log('🔥 SWAP-BASE Initializing...');
    console.log('📱 Device:', CONFIG.effects.isLowPower ? 'Mobile (optimized)' : 'Desktop');
    console.log('🎨 Reduced motion:', CONFIG.effects.reducedMotion ? 'Yes' : 'No');
    
    // Cache DOM elements
    App.cacheElements();
    
    // Initialize modules
    Countdown.init();
    Waveform.init();
    Background.init();
    Navigation.init();
    Keyboard.init();
    
    // Setup audio gesture
    App.setupAudioGesture();
    
    // Load external config
    ConfigLoader.load();
    
    console.log('✅ SWAP-BASE Ready');
    console.log('🎵 Tracks loaded:', CONFIG.audio.tracks.length);
    console.log('⌨️ Keyboard shortcuts: Space (play/pause), ← → (tracks)');
  }
};

/* =============================================================================
   START APPLICATION
   ============================================================================= */

// Initialize when DOM is ready
DOM.ready(App.init);

</script>
</body>
</html>
